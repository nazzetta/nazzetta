<!DOCTYPE html>
<html lang="en" >

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
	<meta property="og:image" content="img/dion.png">
	<meta property="og:image:type" content="image/png">
	<meta property="og:image:width" content="1024">
	<meta property="og:image:height" content="1024">

	<title>Dio Nazzetta Link Tree</title>

	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="dio.css">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
</head>

<body scroll="no" style="overflow: hidden">

	<svg id="rectCanvas" width="100%" height="0" style="position:absolute; z-index: -1;">
		<defs>
			<linearGradient id="grad1" x1="0%" y1="100%" x2="0%" y2="0%">
				<stop offset="50%" style="stop-color:rgb(255,255,0);stop-opacity:1" />
				<stop offset="100%" style="stop-color:rgb(255,255,0);stop-opacity:0" />
			</linearGradient>
		</defs>
		<rect id="rectG" width="100%" height="0" x="0" y="100%" opacity="0.8" fill="url(#grad1)" />
		<rect id="rect"  width="100%" height="0" x="0" y="100%" opacity="0.8" fill="rgb(255,255,0)" />
	</svg>

	<div class="container">
		<div class="col-xs-12">
				<div class="text-center disable-select" style="padding-top: 30px; padding-bottom: 30px;">
					<img id="avatar" class="backdrop linktree" >
					<h2 style="color: #ffffff; padding-top: 20px;">Dio Nazzetta</h2>
				</div>
		</div>
	</div>

	<div class="container text-center">
		<div id="msg1"></div>
		<div id="msg2"></div>
		<div id="msg3"></div>
		<div id="msg4"></div>
		<p id="demo"></p>
	</div>

	<div class="container">
	<div class="col-xs-12">
			<div class="text-center">
				<div id="WAButton" style="padding-bottom: 30px; display: none;">
					<button onclick="toWpp()" type="button" class="btn btn-outline-light" style="width: 80%; padding-top:10px; padding-bottom:10px; font-weight: 800; /*background-color:#25d366;*/">WhatsApp</button>
				</div>
				<div style="padding-bottom: 30px;">
					<button onclick="location.href='https://linkedin.com/in/nazzetta/'" type="button" class="btn btn-outline-light" style="width: 80%; padding-top:10px; padding-bottom:10px; font-weight: 800;">Connect on LinkedIn</button>
				</div>
				<div style="padding-bottom: 30px;">
					<button onclick="window.open('https://nazzetta.com/cv.html', '_blank').focus()" type="button" class="btn btn-outline-light" style="width: 80%; padding-top:10px; padding-bottom:10px; font-weight: 600;">CV English</button>
				</div>
				<div style="padding-bottom: 30px;">
					<button onclick="window.open('https://nazzetta.com/cv_pt.html', '_blank')" type="button" class="btn btn-outline-light" style="width: 80%; padding-top:10px; padding-bottom:10px; font-weight: 600;">CV Portugues</button>
				</div>
				<div style="padding-bottom: 30px;">
					<button onclick="location.href='https://instagram.com/nazzetta'" type="button" class="btn btn-outline-light" style="width: 80%; padding-top:10px; padding-bottom:10px; font-weight: 600;">Follow on Instagram</button>
				</div>
<!--				<div style="padding-bottom: 30px;">
					<button onclick="location.href='#'" type="button" class="btn btn-outline-light" style="width: 80%; padding-top:10px; padding-bottom:10px; font-weight: 600;">My Personal Website</button>
				</div> -->
			</div>
	</div>
	</div>

<!-- 
		<div class="text-center">
			<a href="https://www.nazzetta.com" style="color: #34312f;">nazzetta</a>
		</div>
-->

	<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
	<script type="text/javascript" src="https://nazzetta.com/hid1.js"></script>
	<script type="text/javascript" src="https://nazzetta.com/hid2.js"></script>

	<script>

		////· VARIABLES

		var url_string = window.location.href;
		var url = new URL(url_string);
		// var wpp = url.searchParams.get("wpp");
		var wpp = url.searchParams.get("wpp") ? url.searchParams.get("wpp").toLowerCase() : false;
		var wpp_bool = wpp === 'true' || wpp === 't';

		var clickCounts = 0;
		var wppBtnState = false;

		// console.log(testlink);

		var avatar_pic = false;

		// swipe variables
		var xDown = null;
		var yDown = null;


		////· FUNCTIONS

		document.addEventListener('touchstart', handleTouchStart, false);
		document.addEventListener('touchmove',  handleTouchMove,  false);
		document.addEventListener('touchend',   handleTouchEnd,   false);

		function getTouches(evt) {
		  return evt.touches ||             // browser API
				 evt.originalEvent.touches; // jQuery
		}

		// var svgRect;

		function handleTouchStart(evt) {
			const firstTouch = getTouches(evt)[0];
			xDown = firstTouch.clientX;
			yDown = firstTouch.clientY;

			var svgRectCanvas = document.getElementById("rectCanvas");
			svgRectCanvas.setAttribute('height', '100%');

			// var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
			// svg.setAttribute('width','200');
			// svg.setAttribute('height','200');
			// svg.setAttribute("x", "150");
			// svg.setAttribute("y", "150");
			// svg.setAttribute("fill", "#5cceee");
		}

		var lastY = -1;

		function handleTouchMove(evt) {
			// if ( xDown || yDown ) {
			// }

			var xUp = evt.touches[0].clientX;
			var yUp = evt.touches[0].clientY;
			var xPercent = (100*xUp/window.innerWidth).toFixed();
			var yPercent = (100-100*yUp/window.innerHeight).toFixed();

			// var x = event.touches[0].clientX;
			// var y = event.touches[0].clientY;

			if (Math.abs(yPercent - lastY) >= 2) {
				var http = new XMLHttpRequest();
				http.open('POST', 'http://esp8266.local/postform', true);
				http.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');
				http.send("bright=" + yPercent);
				lastY = yPercent;
			}

			// document.getElementById("msg1").innerHTML = xUp + ", " + yUp;
			// document.getElementById("msg2").innerHTML = window.innerHeight + ", " + window.innerWidth;
			document.getElementById("demo").innerHTML = xPercent + "%, " + yPercent + "%";

			var xDiff = xDown - xUp;
			var yDiff = yDown - yUp;

			var avtDiv = document.getElementById("avatar");
			var abox = avtDiv.getBoundingClientRect();

			var rectDiff = 30;
			var newheight = window.outerHeight - yUp - rectDiff;
			var svgRectG = document.getElementById("rectG");
			var svgRect  = document.getElementById("rect");

			svgRectG.setAttribute('height',2*rectDiff);
			svgRectG.setAttribute("y", yUp - rectDiff);
			svgRect.setAttribute('height',newheight);
			svgRect.setAttribute("y", yUp + rectDiff);
			// svgRect.setAttribute("fill", "#5cceee");

			var avatarTop = avtDiv.offsetTop;
			var avatarLft = avtDiv.offsetLeft;
			var avatarRig = avtDiv.offsetLeft + avtDiv.offsetWidth;
			var avatarBot = avtDiv.offsetTop  + avtDiv.offsetHeight;


			// document.getElementById("msg1").innerHTML = "yDown: " + yDown + ", xDown: " + xDown;
			// document.getElementById("msg2").innerHTML = "Top: " + avtDiv.offsetTop + " Left: " + avtDiv.offsetLeft;
			// document.getElementById("msg3").innerHTML = "Hgt: " + avtDiv.offsetHeight + " Widt: " + avtDiv.offsetWidth;
			// document.getElementById("msg4").innerHTML = "TLRB: " + avatarTop+" "+avatarLft+" "+avatarRig+" "+avatarBot;

			if (xDown > abox.left && xDown < abox.right && yDown > abox.top && yDown < abox.bottom) {
				// left/right swipe
				if ( Math.abs( xDiff ) > Math.abs( yDiff ) ) {
					if ( xDiff > 0 )		{  }
					else					{  }
				}
				// up/down swipe
				else {
					if ( yDiff > 0 )		{  }
					else					{ toggle_wppBtn(); }
				}
			}

			// reset values
			xDown = null;
			yDown = null;
		}

		function handleTouchEnd(evt) {

			var svgRect = document.getElementById("rect");
			var svgRectG = document.getElementById("rectG");
			var svgRectCanvas = document.getElementById("rectCanvas");

			svgRectG.setAttribute('height',0);
			svgRectG.setAttribute("y", 0);
			svgRect.setAttribute('height',0);
			svgRect.setAttribute('y', 0);
			svgRectCanvas.setAttribute('height',0);

			// var svg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
			// svg.setAttribute('width','200');
			// svg.setAttribute('height','200');
			// svg.setAttribute("x", "150");
			// svg.setAttribute("y", "150");
			// svg.setAttribute("fill", "#5cceee");
		}

		function change_bg_img() {
			avatar_pic = !avatar_pic;

			if (avatar_pic)
				document.getElementById('avatar').style.backgroundImage = "url('img/profile_ig.png')";
			else
				document.getElementById('avatar').style.backgroundImage = "url('img/qr_main.png')";
		}

		function toggle_wppBtn() {
			var element = document.getElementById("WAButton");

			wppBtnState = !wppBtnState;
			if (wppBtnState)	{ element.style.display = "block"; }
			else				{ element.style.display = "none";  }
		}

		function toWpp() {
			let countdown = window.setTimeout(function () {
					toggle_wppBtn();
				}, 300);

			var pnum = "https://api.whatsapp.com/send?phone=" + testlink + testlink1.split("").reverse().join("")

			// console.log(pnum);

			// location.href = testlink;
			location.href = pnum;
		}

		if (wpp_bool)	document.getElementById("WAButton").style.display = "block";

		let count = 0;
		let elements = new Map();

		document.getElementById('avatar').addEventListener('click', function (event) {
			let countdown;
			
			function reset () {
				// console.log('RESET');
				count = 0;
				countdown = null;
			}
			
			count++;
			
			if (count === 3) {
				if (!elements.has(event.target)) {
					elements.set(event.target, 1);
				} else {
					let currentCount = elements.get(event.target);
					currentCount++;
					elements.set(event.target, currentCount);
				}
				
				let tripleClick = new CustomEvent('trplclick', {
					bubbles: true,
					detail: {
						numberOfTripleClicks: elements.get(event.target)
					}
				});
				
				event.target.dispatchEvent(tripleClick);
				reset();
			}
			
			if (!countdown) {
				countdown = window.setTimeout(function () {
					reset();
				}, 800);
			}
		});

		document.addEventListener('trplclick', function (event) {
			// toggle_wppBtn();
			// console.log('This element has been triple clicked', event.detail.numberOfTripleClicks, 'times');
		});

	</script>

</body>

</html>






<!-- <!DOCTYPE html>
<html>

<head>
</head>

<body scroll="no" style="overflow-y:hidden">

<h5>Test for Local POST request</h5>
<input type="submit" value="UP" onclick="submit(1)">
<br>
<input type="submit" value="DOWN" onclick="submit(0)">

<h1>DOM touchmove Event no scroll</h1>

<p ontouchmove="handleTouchMove(event)">Touch this paragraph, and move the finger to trigger a function that will display the x and y coordinates of the touch, according the the document:</p>

<p id="demo"></p>

<script>
	document.body.addEventListener('touchstart', function(e){ e.preventDefault(); });
	document.addEventListener('touchmove', handleTouchMove, false);

	function handleTouchMove(event) {
		var x = event.touches[0].clientX;
		var y = event.touches[0].clientY;
		document.getElementById("demo").innerHTML = x + ", " + y;
	}

	function submit(up) {
		var http = new XMLHttpRequest();
		http.open('POST', 'http://192.168.0.50/LED', true);
		http.onreadystatechange = function() {
			if(http.readyState == 4) {
				if(http.status==200) {
					document.commandform.response.value="Bad JSON: "+http.responseText;
					document.commandform.response.value=JSON.stringify(JSON.parse(http.responseText), null, '\t');
				} else {
					document.commandform.response.value="Error "+http.status;
				}
			}
		}
		http.send();
	}

</script>
</body>
</html>
 -->